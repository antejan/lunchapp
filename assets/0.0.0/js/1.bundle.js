webpackJsonp([1],{212:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(213),r=a(214),u=s(r),c=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.serializeData=function(){return{model:this.model,savedLunches:this.model.getSavedLunches(),mergedLunches:this.model.getMergedLunches()}};var a=t;return t=(0,o.Prototype)({template:u["default"]})(t)||t}(l.BaseLayout);t.ProposeLayout=c},213:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=a(7),o=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e);var a=t;return t=(0,s.Prototype)({className:"wrapper"})(t)||t}(s.LayoutView);t.BaseLayout=o},214:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var s=this.escapeExpression;return s(t.view.call(e,a(215),{name:"view",hash:{model:null!=e?e.model:e},data:i}))+' <div class="list"> '+s(t.view.call(e,a(217),{name:"view",hash:{model:null!=e?e.model:e},data:i}))+" "+s(t.view.call(e,a(219),{name:"view",hash:{state:null!=e?e.model:e,collection:null!=e?e.mergedLunches:e},data:i}))+" "+s(t.view.call(e,a(223),{name:"view",hash:{state:null!=e?e.model:e,collection:null!=e?e.todayLunches:e},data:i}))+" </div> "+s(t.view.call(e,a(225),{name:"view",hash:{model:null!=e?e.model:e},data:i}))},useData:!0})},215:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(216),r=s(l),u=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.templateHelpers=function(){return{date:this.model.getTimeSource().getTime()}};var a=t;return t=(0,o.Prototype)({template:r["default"]})(t)||t}(o.LayoutView);t.BaseHeader=u},216:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){var i=this.escapeExpression;return'<h1 class="logo"><img src="'+i(t.baseUrl.call(e,"/images/die-wurststube.png",{name:"baseUrl",hash:{},data:n}))+'" alt="die Wurschtstube"></h1> <div class="title"> <h2 class="title-main">'+i(t.moment.call(e,null!=e?e.date:e,{name:"moment",hash:{format:"dddd D.MM.YYYY"},data:n}))+"</h2> </div>"},useData:!0})},217:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(218),r=s(l),u=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.templateHelpers=function(){return{user:this.model.getUser()}};var a=t;return t=(0,o.Prototype)({template:r["default"],className:"list-title"})(t)||t}(o.LayoutView);t.ProposeTitle=u},218:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){return'<h3 class="list-title-main">Hey <strong>'+this.escapeExpression(t.userName.call(e,null!=e?e.user:e,{name:"userName",hash:{},data:n}))+"</strong>, what would you like for lunch?</h3>"},useData:!0})},219:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(220),r=a(222),u=s(r),c=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.childViewOptions=function(){return{state:this.options.state}};var a=t;return t=(0,o.Prototype)({template:u["default"],className:"list-items",childView:l.ProposeListItem})(t)||t}(o.CompositeView);t.ProposeLists=c},220:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(221),r=s(l),u=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.initialize=function(){this.modelClone=this.findInTodayLunches()||this.model.clone()},t.prototype.findInTodayLunches=function(){return this.options.state.getTodayLunches().find(this.model.toJSON())},t.prototype.templateHelpers=function(){return{checked:Boolean(this.findInTodayLunches())}},t.prototype.onChangeCheckbox=function(){var e=this.ui.chk.prop("checked");this.options.state.toggleProposeToday(this.modelClone,e)};var a=t;return t=(0,o.Prototype)({template:r["default"],className:"list-item",ui:{chk:"input[type=checkbox]"},events:{"change @ui.chk":"onChangeCheckbox"}})(t)||t}(o.LayoutView);t.ProposeListItem=u},221:function(e,t,a){var n=a(101);e.exports=n.template({1:function(e,t,a,n){return"checked"},3:function(e,t,a,n){var i=this.lambda,s=this.escapeExpression;return" "+s(i(null!=e?e.meal:e,e))+' <small class="name">('+s(i(null!=e?e.proposer:e,e))+")</small> "},5:function(e,t,a,n){return" "+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+" "},7:function(e,t,a,n){return'<a target="_blank" href="'+this.escapeExpression(this.lambda(null!=e?e.url:e,e))+'" class="list-item-link fa fa-cutlery"></a>'},9:function(e,t,a,n){return'<a target="_blank" href="'+this.escapeExpression(this.lambda(null!=e?e["recipe-url"]:e,e))+'" class="list-item-link fa fa-cutlery"></a>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){var i;return'<label class="list-item-label"> <input type="checkbox" '+(null!=(i=t["if"].call(e,null!=e?e.checked:e,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+" /> "+(null!=(i=t["if"].call(e,null!=e?e.meal:e,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(5,n,0),data:n}))?i:"")+"</label> "+(null!=(i=t["if"].call(e,null!=e?e.url:e,{name:"if",hash:{},fn:this.program(7,n,0),inverse:this.noop,data:n}))?i:"")+" "+(null!=(i=t["if"].call(e,null!=e?e["recipe-url"]:e,{name:"if",hash:{},fn:this.program(9,n,0),inverse:this.noop,data:n}))?i:"")+" "},useData:!0})},222:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){return""},useData:!0})},223:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(203),r=a(224),u=s(r),c=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.initialize=function(){this.model=l.Lunch.factoryFromData({proposer:this.options.state.getUser().getFirstName()})},t.prototype.showForm=function(){this.ui.btnShowForm.addClass("hidden"),this.ui.form.removeClass("hidden")},t.prototype.onChangeType=function(e){var t=$(e.target).val();this.ui.formCook.toggleClass("hidden","cook"!==t),this.ui.formRestaurant.toggleClass("hidden","restaurant"!==t),this.ui.chkSave.toggleClass("hidden","restaurant"!==t)},t.prototype.onInput=function(e){var t=e.target.name,a=$(e.target).val();this.model.set(t,a)},t.prototype.onSaveClick=function(){var e=this.ui.type.filter(":checked").val(),t="restaurant"===e&&this.ui.chkSaveInput.prop("checked");this.model.get("name")||this.model.get("meal")?(this.options.state.proposeLunch(this.model,t),this.model=l.Lunch.factoryFromData({proposer:this.options.state.getUser().getFirstName()}),this.render()):this.$("input[name="+("cook"===e?"meal":"name")+"]").focus()};var a=t;return t=(0,o.Prototype)({template:u["default"],className:"list-item",ui:{btnShowForm:".ui-btn-show-form",form:".form",formCook:".ui-form-cook",formRestaurant:".ui-form-restaurant",type:"input[name=proposal_type]",chkSave:".ui-chk-save",chkSaveInput:".ui-chk-save input",inputs:"input[type=text][name]",btnCancel:".ui-btn-cancel",btnSave:".ui-btn-save"},events:{"click @ui.btnShowForm":"showForm","click @ui.btnCancel":"render","click @ui.btnSave":"onSaveClick","change @ui.type":"onChangeType","input @ui.inputs":"onInput"}})(t)||t}(o.LayoutView);t.ProposeForm=c},224:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){return'<div class="list-item-btn ui-btn-show-form"> <i class="fa fa-plus-circle"></i> Add proposal </div> <div class="form hidden"> <div class="form-title">Add proposal</div> <ul class="radios radios-hor"> <li> <label class="check"> <input type="radio" name="proposal_type" value="cook" checked /> I want cook... </label> </li> <li> <label class="check"> <input type="radio" name="proposal_type" value="restaurant" /> I want to eat at... </label> </li> </ul> <div class="ui-form-cook"> <div class="input"> <label for="input-meal">Meal</label> <input type="text" id="input-meal" name="meal" /> </div> <div class="input"> <label for="input-recipe-link">Link to recipe</label> <input type="text" id="input-recipe-link" name="recipe-url" /> </div> </div> <div class="ui-form-restaurant hidden"> <div class="input"> <label for="input-restaurant">Restaurant</label> <input type="text" id="input-restaurant" name="name" /> </div> <div class="input"> <label for="input-restaurant-link">Website</label> <input type="text" id="input-restaurant-link" name="url" /> </div> </div> <div class="form-controls"> <div class="form-controls-side"> <label class="hidden ui-chk-save check"> <input type="checkbox"/> Save<span class="desktop-only"> restaurant</span> </label> </div> <div class="form-controls-main"> <button class="btn btn-secondary ui-btn-cancel">cancel</button> <button class="btn ui-btn-done ui-btn-save">Done</button> </div> </div> </div>'},useData:!0})},225:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(125),r=a(226),u=a(228),c=s(u),p=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e),t.prototype.onClickSave=function(){var e=this;this.model.getTodayLunches().length?(this.model.getTodayLunches().invoke("save"),l.app.content.show(new r.SuccessSave)):(this.ui.button.addClass("shake"),setTimeout(function(){e.ui.button.removeClass("shake")},1e3))};var a=t;return t=(0,o.Prototype)({template:c["default"],className:"list-controls",ui:{button:"button"},events:{"click @ui.button":"onClickSave"}})(t)||t}(o.LayoutView);t.ProposeControls=p},226:function(e,t,a){"use strict";var n=a(127)["default"],i=a(124)["default"],s=a(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),l=a(227),r=s(l),u=function(e){function t(){i(this,a),e.apply(this,arguments)}n(t,e);var a=t;return t=(0,o.Prototype)({template:r["default"],className:"wrapper"})(t)||t}(o.LayoutView);t.SuccessSave=u},227:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){return'<div class="message"> <i class="message-badge message-badge-ok"></i> <div class="message-subtitle">Everything successfully saved.</div> <h2>See you later!</h2> </div> '},useData:!0})},228:function(e,t,a){var n=a(101);e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){return'<button class="btn btn-L">Send</button> '},useData:!0})}});